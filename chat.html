<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="res/shared.css">
	<link rel="stylesheet" href="res/chat.css">
</head>

<body class="tt-vert">
	<h1 id="title"><a class="tt-home" href="/">trustytrojan.dev</a>/chat</h1>

	<div id="chat-top" class="tt-horiz" hidden>
		<b id="username-label"></b>
		<button id="leave-chat-button" class="tt-clickable" onclick="leaveChat()">leave chat</button>
	</div>

	<div id="chat-container">
		<div id="msg-view-cont" style="position: relative">
			<div id="messages-view" style="overflow-y: auto;"></div>
			<i id="nm-indicator" onclick="messagesView.scrollToBottom('smooth')">â†“ new messages</i>
		</div>

		<input type="text" id="message-input" class="tt-clickable" placeholder="send a message">

		<div id="typing-label">
			<div id="typing-usernames"></div> is typing...
		</div>
	</div>

	<dialog id="start-form" class="tt-border tt-vert" onkeydown="if (event.key === 'Enter') joinChat()">
		<div class=" tt-horiz">
			<i>username: </i>
			<input type="text" id="username-input" class="tt-clickable">
		</div>

		<div class="tt-horiz">
			<i>chatroom: </i>
			<input type="text" id="chatroom-input" class="tt-clickable">
		</div>

		<div class="tt-horiz">
			<button onclick="joinChat()" class="tt-clickable" style="align-self: flex-end">join chat</button>
		</div>

		<div id="error-label" style="color: red;"></div>
	</dialog>

	<script src="res/shared.js"></script>
	<script src="res/chat.js"></script>
</body>

</html>